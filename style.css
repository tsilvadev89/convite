/* =========================
   Paleta & Variáveis
   ========================= */
:root{
  /* Cores clássicas */
  --paper: #FDFBF7;
  --paper-2: #F6F1E7;
  --ink: #3D2B1F;
  --cocoa: #553324;
  --gold: #D6B98F;
  --gold-2: #B9965E;
  --glass: rgba(255, 255, 255, 0.082);

  /* Círculos da Página 1 */
  --portal-circles-opacity: .2;
  --portal-circles-speed: 22s;

  /* ===== Fundo da Página 2 (config dinâmicas) ===== */
  --bg-hero-img: url('./src/img/Casal.jpeg');      /* troque aqui a foto */
  --bg-hero-repeat: no-repeat;

  /* Valores base (desktop) */
  --bg-hero-size: 110%;                  /* zoom */
  --bg-hero-pos: top;                    /* posição */

  /* Overlay claro sobre a foto (para contraste) */
  --bg-overlay-from: rgba(15, 14, 14, 0.92);
  --bg-overlay-to:   rgba(169, 166, 166, 0.7);

  /* Alturas do card */
  --card-height-desktop: 75vh;
  --card-height-tablet: 78vh;
  --card-height-mobile: 60vh;
}

/* Tablet: ajuste fino do enquadramento */
@media (max-width: 1024px){
  :root{
    --bg-hero-size: 135%;
    --bg-hero-pos: center 35%;
  }
}

/* Mobile: mais zoom e reposicionamento */
@media (max-width: 640px){
  :root{
    --bg-hero-size: 170%;
    --bg-hero-pos: center 40%;
  }
}

/* =========================
   Reset & Base
   ========================= */
*{ box-sizing: border-box; margin: 0; padding: 0; }
html,body{ height:100%; }
body{
  font-family: 'Playfair Display', serif;
  background: var(--paper);
  color: var(--ink);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* Páginas + transição */
.page{
  min-height:100vh; width:100%; position:relative;
  display:flex; justify-content:center; align-items:center;
  padding:32px 20px; text-align:center;
  opacity:0; transform:scale(1.02);
  transition:opacity .8s ease, transform .8s ease;
}
.page.active{ opacity:1; transform:scale(1); }
[hidden]{ display:none !important; }

/* =========================
   Página 1 – Círculos + Envelope
   ========================= */
.page-portal{
  background: radial-gradient(circle at center,#fff,var(--paper-2));
  position:relative; overflow:hidden;
}
.page-portal::before{
  content:""; position:absolute; inset:0;
  background: repeating-radial-gradient(circle at center,
              rgba(0,0,0,0.08) 0px,
              rgba(0,0,0,0.08) 1px,
              transparent 3px);
  opacity: var(--portal-circles-opacity);
  animation: ripple var(--portal-circles-speed) linear infinite;
}
@keyframes ripple{ from{transform:scale(1);} to{transform:scale(1.35);} }

/* Pulso dourado (onda) */
.pulse-circle{
  position:absolute;
  width:24px; height:24px;
  border-radius:50%;
  background: radial-gradient(circle, var(--gold-2) 0%, transparent 70%);
  pointer-events:none;
  transform: translate(-50%,-50%) scale(0);
  opacity:0.7;
  animation: pulseAnim 1.2s ease-out forwards;
}
@keyframes pulseAnim{
  0%   { transform:translate(-50%,-50%) scale(0.3); opacity:0.6; }
  70%  { transform:translate(-50%,-50%) scale(3.5); opacity:0.3; }
  100% { transform:translate(-50%,-50%) scale(5); opacity:0; }
}

.envelope-wrapper{
  display:flex; flex-direction:column; align-items:center; gap:22px;
  position:relative; z-index:1;
}
.portal-title{
  font-family:'Great Vibes', cursive;
  font-size:3rem; color:var(--cocoa);
  text-shadow:0 2px 6px #fff8;
}
.envelope3d{
  width:420px; height:280px; max-width:92vw; position:relative;
  cursor:pointer; filter:drop-shadow(0 12px 24px rgba(0,0,0,.10));
}
.envelope3d .pocket{
  position:absolute; inset:0;
  background:linear-gradient(180deg,#fff,#f3eadc);
  border:2px solid var(--gold); border-radius:12px;
}
.envelope3d .flap{
  position:absolute; inset:0 0 auto 0; height:54%;
  background:linear-gradient(180deg,var(--gold),#ecd7b8);
  clip-path:polygon(0 0, 100% 0, 50% 100%);
  transform-origin: top center; transition:transform 1s ease-in-out;
  border-top-left-radius:10px; border-top-right-radius:10px; z-index:3;
}
/* Selo com coração pulsante */
.envelope3d .seal{
  position:absolute; top:44%; left:50%; transform:translate(-50%,-50%);
  width:72px; height:72px; border-radius:50%;
  background:radial-gradient(circle at 35% 35%,#b3873c,#8e6f1f);
  border:2px solid #f6e7b8; color:#fff; display:grid; place-items:center; z-index:4;
  animation: heartbeat 1.8s ease-in-out infinite;
}
.envelope3d .seal i{ font-size:1.6rem; color:#fff; }
@keyframes heartbeat {
  0%,100%{ transform:translate(-50%,-50%) scale(1); }
  25%{ transform:translate(-50%,-50%) scale(1.25); }
  50%{ transform:translate(-50%,-50%) scale(0.9); }
  75%{ transform:translate(-50%,-50%) scale(1.15); }
}

.envelope3d .letter{ position:absolute; inset:8px; background:var(--paper); border-radius:8px; z-index:2; }
.envelope3d.open .flap{ transform:rotateX(-180deg); }
.envelope3d.open .seal{ opacity:0; transform:translate(-50%,-50%) scale(.65); }

@media (max-width:600px){
  .portal-title{ font-size:2.4rem; }
  .envelope3d{ width:92vw; height:200px; }
}

/* =========================
   Página 2 – Fundo com variáveis
   ========================= */
.page-hero{ background: var(--paper-2); }

.hero-bg{
  position:absolute; inset:0;
  background-image: var(--bg-hero-img);
  background-size: var(--bg-hero-size);
  background-position: var(--bg-hero-pos);
  background-repeat: var(--bg-hero-repeat);
  filter: saturate(1) contrast(1.04);
}
.hero-bg::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(to top, var(--bg-overlay-from), var(--bg-overlay-to));
}

/* =========================
   Flip Card
   ========================= */
.glass-card{
  perspective:1000px;
  max-width:880px; width:min(95%,880px);
  height: var(--card-height-desktop);
  position:relative;
}
@media (max-width:1024px){ .glass-card{ height: var(--card-height-tablet); } }
@media (max-width:640px){ .glass-card{ height: var(--card-height-mobile); } }

.card-inner{
  width:100%; height:100%; transform-style:preserve-3d;
  transition: transform .8s ease;
}
.card-inner.flipped{ transform: rotateY(180deg); }

.card-face{
  position:absolute; inset:0; backface-visibility:hidden;
  border-radius:22px; background: var(--glass);
  border: 1px solid rgba(255,255,255,.55);
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  box-shadow:0 14px 34px rgba(0,0,0,.14);
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  padding: 30px 26px;
}
.card-front{ }
.card-back{ transform: rotateY(180deg); overflow-y:auto; padding:26px 22px; }

/* Frente – textos */
.hero-content h1{
  font-family:'Great Vibes', cursive;
  font-size:3rem; margin:0; color: var(--cocoa);
}
.name-left{ text-align:left; width:100%; }
.name-center{ text-align:center; width:100%; font-size:2.4rem; }
.name-right{ text-align:right; width:100%; }
.invitation{
  margin-top:20px; font-size:1.25rem; color: var(--ink); text-align:center;
}

/* Botões padrão */
.btn{
  margin-top:22px; padding:12px 24px; border-radius:28px; border:none;
  background: linear-gradient(180deg, var(--gold), var(--gold-2));
  color:#fff; font-weight:600; cursor:pointer;
  box-shadow:0 8px 18px rgba(182,150,94,.25);
  transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
}
.btn:hover{ transform: translateY(-2px); box-shadow:0 10px 22px rgba(182,150,94,.32); filter: brightness(1.02); }
.btn-outline{
  background: transparent; color: var(--cocoa);
  border: 1px solid var(--gold-2);
  box-shadow:none;
}

/* Verso – lista de ações com scroll vertical */
.back-title{
  font-family:'Great Vibes', cursive;
  font-size:2.2rem; color: var(--cocoa); margin-bottom: 8px;
}
.links-scroll{
  width:100%; display:flex; flex-direction:column; gap:12px;
  margin:16px 0 10px 0;
}
.link-btn{
  width:100%; display:flex; align-items:center; gap:10px;
  text-decoration:none; border-radius:14px;
  padding:12px 16px; color: var(--cocoa);
  background: rgba(255,255,255,.75);
  border:1px solid #eadcc3;
  transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
}
.link-btn:hover{
  background:#fff; transform: translateY(-2px);
  box-shadow:0 8px 16px rgba(0,0,0,.08);
}
.link-btn i{ font-size:1.2rem; color: var(--gold-2); }

/* ================= Chuva de corações (Bootstrap Icons) ================= */
.heart{
  position: fixed;
  top:-10px;
  pointer-events:none;
  animation: fall linear forwards;
  z-index:9999;
}

@keyframes fall{
  to{
    transform: translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

/* ===== Acessibilidade: reduzir movimento ===== */
@media (prefers-reduced-motion: reduce){
  .page{ transition:none !important; }
  .envelope3d .flap, .card-inner{ transition:none !important; }
}
